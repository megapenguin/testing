(this["webpackJsonpretrack-admin"]=this["webpackJsonpretrack-admin"]||[]).push([[8],{411:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return null};t.default=n},412:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e){return null};t.default=n},415:function(e,t,a){"use strict";a(47),a(416),a(414),a(424),a(425),a(134)},416:function(e,t,a){},423:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(36),c=a.n(n),i=a(1),s=a.n(i),r=a(3),o=a.n(r),l=a(8),u=a.n(l),d=a(15),b=a.n(d),j=a(0),m=a(5),f=a.n(m),p=a(427),O=a(417),h=a(93),g=a(53),y=a(431),v=a(150),x=a(103),N=a(25),C=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},S=function(e){var t=e.prefixCls,a=e.children,n=e.actions,c=e.extra,i=e.className,r=e.colStyle,l=C(e,["prefixCls","children","actions","extra","className","colStyle"]),u=j.useContext(E),d=u.grid,b=u.itemLayout,m=j.useContext(g.b).getPrefixCls,p=m("list",t),O=n&&n.length>0&&j.createElement("ul",{className:"".concat(p,"-item-action"),key:"actions"},n.map((function(e,t){return j.createElement("li",{key:"".concat(p,"-item-action-").concat(t)},e,t!==n.length-1&&j.createElement("em",{className:"".concat(p,"-item-action-split")}))}))),h=d?"div":"li",y=j.createElement(h,s()({},l,{className:f()("".concat(p,"-item"),o()({},"".concat(p,"-item-no-flex"),!("vertical"===b?c:!function(){var e;return j.Children.forEach(a,(function(t){"string"===typeof t&&(e=!0)})),e&&j.Children.count(a)>1}())),i)}),"vertical"===b&&c?[j.createElement("div",{className:"".concat(p,"-item-main"),key:"content"},a,O),j.createElement("div",{className:"".concat(p,"-item-extra"),key:"extra"},c)]:[a,O,Object(N.a)(c,{key:"extra"})]);return d?j.createElement(x.a,{flex:1,style:r},y):y};S.Meta=function(e){var t=e.prefixCls,a=e.className,n=e.avatar,c=e.title,i=e.description,r=C(e,["prefixCls","className","avatar","title","description"]),o=(0,j.useContext(g.b).getPrefixCls)("list",t),l=f()("".concat(o,"-item-meta"),a),u=j.createElement("div",{className:"".concat(o,"-item-meta-content")},c&&j.createElement("h4",{className:"".concat(o,"-item-meta-title")},c),i&&j.createElement("div",{className:"".concat(o,"-item-meta-description")},i));return j.createElement("div",s()({},r,{className:l}),n&&j.createElement("div",{className:"".concat(o,"-item-meta-avatar")},n),(c||i)&&u)};var w=S,I=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(e);c<n.length;c++)t.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(e,n[c])&&(a[n[c]]=e[n[c]])}return a},E=j.createContext({});E.Consumer;function P(e){var t,a=e.pagination,n=void 0!==a&&a,i=e.prefixCls,r=e.bordered,l=void 0!==r&&r,d=e.split,m=void 0===d||d,x=e.className,N=e.children,C=e.itemLayout,S=e.loadMore,w=e.grid,P=e.dataSource,k=void 0===P?[]:P,z=e.size,J=e.header,F=e.footer,_=e.loading,L=void 0!==_&&_,q=e.rowKey,M=e.renderItem,T=e.locale,B=I(e,["pagination","prefixCls","bordered","split","className","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]),R=n&&"object"===b()(n)?n:{},U=j.useState(R.defaultCurrent||1),A=u()(U,2),D=A[0],V=A[1],H=j.useState(R.defaultPageSize||10),K=u()(H,2),W=K[0],G=K[1],Q=j.useContext(g.b),X=Q.getPrefixCls,Y=Q.renderEmpty,Z=Q.direction,$={},ee=function(e){return function(t,a){V(t),G(a),n&&n[e]&&n[e](t,a)}},te=ee("onChange"),ae=ee("onShowSizeChange"),ne=X("list",i),ce=L;"boolean"===typeof ce&&(ce={spinning:ce});var ie=ce&&ce.spinning,se="";switch(z){case"large":se="lg";break;case"small":se="sm"}var re=f()(ne,(t={},o()(t,"".concat(ne,"-vertical"),"vertical"===C),o()(t,"".concat(ne,"-").concat(se),se),o()(t,"".concat(ne,"-split"),m),o()(t,"".concat(ne,"-bordered"),l),o()(t,"".concat(ne,"-loading"),ie),o()(t,"".concat(ne,"-grid"),w),o()(t,"".concat(ne,"-something-after-last-item"),!!(S||n||F)),o()(t,"".concat(ne,"-rtl"),"rtl"===Z),t),x),oe=s()(s()(s()({},{current:1,total:0}),{total:k.length,current:D,pageSize:W}),n||{}),le=Math.ceil(oe.total/oe.pageSize);oe.current>le&&(oe.current=le);var ue=n?j.createElement("div",{className:"".concat(ne,"-pagination")},j.createElement(y.a,s()({},oe,{onChange:te,onShowSizeChange:ae}))):null,de=c()(k);n&&k.length>(oe.current-1)*oe.pageSize&&(de=c()(k).splice((oe.current-1)*oe.pageSize,oe.pageSize));var be=Object(O.a)(),je=j.useMemo((function(){for(var e=0;e<h.b.length;e+=1){var t=h.b[e];if(be[t])return t}}),[be]),me=j.useMemo((function(){if(w){var e=je&&w[je]?w[je]:w.column;return e?{width:"".concat(100/e,"%"),maxWidth:"".concat(100/e,"%")}:void 0}}),[null===w||void 0===w?void 0:w.column,je]),fe=ie&&j.createElement("div",{style:{minHeight:53}});if(de.length>0){var pe=de.map((function(e,t){return function(e,t){return M?((a="function"===typeof q?q(e):"string"===typeof q?e[q]:e.key)||(a="list-item-".concat(t)),$[t]=a,M(e,t)):null;var a}(e,t)})),Oe=j.Children.map(pe,(function(e,t){return j.createElement("div",{key:$[t],style:me},e)}));fe=w?j.createElement(v.a,{gutter:w.gutter},Oe):j.createElement("ul",{className:"".concat(ne,"-items")},pe)}else N||ie||(fe=function(e,t){return j.createElement("div",{className:"".concat(e,"-empty-text")},T&&T.emptyText||t("List"))}(ne,Y));var he=oe.position||"bottom";return j.createElement(E.Provider,{value:{grid:w,itemLayout:C}},j.createElement("div",s()({className:re},B),("top"===he||"both"===he)&&ue,J&&j.createElement("div",{className:"".concat(ne,"-header")},J),j.createElement(p.a,ce,fe,N),F&&j.createElement("div",{className:"".concat(ne,"-footer")},F),S||("bottom"===he||"both"===he)&&ue))}P.Item=w;t.b=P},438:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"unordered-list",theme:"outlined"},i=a(48),s=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:c}))};s.displayName="UnorderedListOutlined";t.a=n.forwardRef(s)},441:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},i=a(48),s=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:c}))};s.displayName="PlusOutlined";t.a=n.forwardRef(s)},442:function(e,t,a){"use strict";var n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"},i=a(48),s=function(e,t){return n.createElement(i.a,Object.assign({},e,{ref:t,icon:c}))};s.displayName="EditOutlined";t.a=n.forwardRef(s)},507:function(e,t,a){"use strict";a.r(t);a(421);var n=a(420),c=(a(409),a(410)),i=(a(130),a(61)),s=a(4),r=(a(133),a(43)),o=(a(407),a(408)),l=a(37),u=(a(152),a(105)),d=(a(132),a(62)),b=a(104),j=a(0),m=a(91),f=a.n(m),p=a(411),O=a.n(p),h=a(412),g=a.n(h),y=(a(154),a(106)),v=(a(215),a(156)),x=(a(92),a(49)),N=a(422),C=(a(213),a(131)),S=a(438);var w=function(e){var t=Object(j.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],l=Object(j.useState)(!1),u=Object(b.a)(l,2),d=u[0],m=u[1],p=Object(j.useState)(!1),O=Object(b.a)(p,2),h=O[0],g=O[1],w=Object(j.useState)([]),I=Object(b.a)(w,2),E=(I[0],I[1],Object(j.useState)([])),P=Object(b.a)(E,2),k=P[0],z=P[1],J=Object(j.useState)([]),F=Object(b.a)(J,2);return F[0],F[1],Object(s.jsxs)("div",{children:[Object(s.jsx)(o.b,{children:Object(s.jsxs)(x.a,{type:"primary",className:"modal-button-view",onClick:function(){c(!0),f.a.post("/api/v1/images/search_images",{imageOwnerId:e.info.id,imageReferenceId:3}).then((function(e){var t=e.data;z(t)})).catch((function(e){return console.log(e)}))},children:[Object(s.jsxs)("span",{className:"desktop-view",children:[Object(s.jsx)(S.a,{})," View"]}),Object(s.jsx)("span",{className:"mobile-view",children:Object(s.jsx)(S.a,{})})]})}),Object(s.jsxs)(C.a,{title:"Jeepney Information",visible:n,confirmLoading:d,onOk:function(){e.passedData(e.info),m(!0),g(!1),setTimeout((function(){c(!1),m(!1)}),2e3)},onCancel:function(){g(!0),c(!1)},afterClose:function(){h||e.afterClosing()},footer:[Object(s.jsx)(x.a,{className:"modal-button",loading:d,onClick:function(){return e.info.id,m(!0),g(!1),setTimeout((function(){c(!1),m(!1)}),2e3),void C.a.success({content:"Still in development"})},danger:!0,children:"Remove"})],children:[Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:"Barangay Id:"}),e.info.barangayId]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:"Plate Number:"}),e.info.plateNumber]}),Object(s.jsxs)("p",{children:[Object(s.jsx)("h4",{children:"Jeep Capacity:"}),e.info.jeepCapacity]}),Object(s.jsx)("h4",{children:"Uploaded Images: "}),Object(s.jsx)(y.a,{className:"shadow-sm",children:Object(s.jsx)(i.a,{children:k.map((function(e,t){return Object(s.jsxs)(r.a,{md:{span:6},children:[Object(s.jsx)("br",{}),Object(s.jsx)(v.a,{height:100,width:100,src:"/api/v1/images/".concat(e.imagePath?e.imagePath:"logo.png")}),Object(s.jsxs)(i.a,{children:[Object(s.jsx)("br",{}),Object(s.jsx)(x.a,{onClick:function(){return function(e,t){f.a.delete("/api/v1/images/delete_folder_image",{params:{fileName:t,fileId:e}}).then((function(t){var a=Object(N.a)(k);a=a.filter((function(t){return t.id!==e})),z(a),C.a.success({content:"Jeepney image has been removed"})})).catch((function(e){return console.log(e)}))}(e.id,e.imagePath)},danger:!0,children:"Delete"})]})]},t)}))})})]})]})},I=(a(151),a(51)),E=(a(433),a(429)),P=a(441);var k=function(e){var t=Object(j.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(j.useState)(!1),r=Object(b.a)(i,2),o=r[0],l=r[1],u=Object(j.useState)(!1),m=Object(b.a)(u,2),p=m[0],O=m[1],h=Object(j.useState)([]),g=Object(b.a)(h,2),y=g[0],v=g[1],S=Object(j.useState)({}),w=Object(b.a)(S,2),k=(w[0],w[1],Object(j.useState)("Choose file")),z=Object(b.a)(k,2),J=(z[0],z[1],Object(j.useState)()),F=Object(b.a)(J,2),_=F[0],L=(F[1],Object(j.useState)([])),q=Object(b.a)(L,2),M=q[0],T=q[1];Object(j.useEffect)((function(){f.a.get("/api/v1/barangays/search_all_barangays").then((function(e){var t=e.data;T(t)})).catch((function(e){return console.log(e)}))}),[]);var B=E.a.Option,R=function(){O(!0),c(!1)},U=function(t){console.log(t),e.passedData(e.info),l(!0),O(!1),setTimeout((function(){c(!1),l(!1)}),2e3),f.a.post("/api/v1/jeepneys/add_jeep",t).then((function(e){var t=Object(N.a)(y);t=[].concat(Object(N.a)(t),[e.data]),console.log(t),v(t),C.a.success({content:"Successfully Added New Jeepney"}),f.a.post("/api/v1/images/save_image",{imageOwnerId:e.data.id,imageReferenceId:3,imagePath:_})})).catch((function(e){return console.log(e)}))};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(x.a,{type:"primary",className:"modal-button-add",onClick:function(){c(!0),console.log(e.info)},children:[Object(s.jsxs)("span",{className:"desktop-view",children:[Object(s.jsx)(P.a,{})," Add Jeepney"]}),Object(s.jsx)("span",{className:"mobile-view",children:Object(s.jsx)(P.a,{})})]}),Object(s.jsx)(C.a,{title:"Add Jeepney:",visible:n,confirmLoading:o,onOk:U,onCancel:R,afterClose:function(){p||e.afterClosing()},destroyOnClose:!0,footer:[Object(s.jsx)(x.a,{className:"modal-button",onClick:R,children:"Cancel"},"back"),Object(s.jsx)(x.a,{form:"myForm",className:"modal-button",htmlType:"submit",type:"primary",loading:o,onClick:U,children:"Add"},"submit")],children:Object(s.jsxs)(I.a,{layout:"vertical",name:"basic",initialValues:{remember:!0},onFinish:U,onFinishFailed:function(e){C.a.error({content:"Failure to Add New Jeepney"}),setTimeout((function(){c(!0),l(!1)}),2e3),console.log("fail"),console.log("Failed:",e)},id:"myForm",children:[Object(s.jsx)(I.a.Item,{label:"Barangay:",name:"barangayId",rules:[{required:!0,message:"Please input the Barangay's ID!"}],children:Object(s.jsx)(E.a,{placeholder:"Select Barangay",style:{width:"100%"},onChange:function(e){console.log("selected ".concat(e))},children:M.map((function(e,t){return Object(s.jsx)(B,{value:e.id,children:e.barangayName})}))})}),Object(s.jsx)(I.a.Item,{label:"Plate Number:",name:"plateNumber",rules:[{required:!0,message:"Please input the Plate Number!"}],children:Object(s.jsx)(d.a,{})}),Object(s.jsx)(I.a.Item,{label:"Jeep Capacity:",name:"jeepCapacity",rules:[{required:!0,message:"Please input the Jeep Capacity!"}],children:Object(s.jsx)(d.a,{})})]})})]})},z=a(442);var J=function(e){var t=Object(j.useState)(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=I.a.useForm(),r=Object(b.a)(i,1)[0],o=Object(j.useState)(!1),l=Object(b.a)(o,2),u=l[0],m=l[1],p=Object(j.useState)(!1),O=Object(b.a)(p,2),h=O[0],g=O[1],y=Object(j.useState)(),v=Object(b.a)(y,2),N=v[0],S=v[1],w=Object(j.useState)([]),P=Object(b.a)(w,2),k=P[0],J=P[1];Object(j.useEffect)((function(){f.a.get("/api/v1/barangays/search_all_barangays").then((function(e){var t=e.data;J(t)})).catch((function(e){return console.log(e)}))}),[]);var F=E.a.Option,_=function(){g(!0),c(!1)},L=function(t){m(!0),g(!1),e.passedData(e.info),f.a.post("/api/v1/jeepneys/update_jeepney",{id:e.info.id,barangayId:t.barangayId,plateNumber:t.plateNumber,jeepCapacity:t.jeepCapacity}).then((function(e){setTimeout((function(){c(!1),m(!1)}),2e3),N?C.a.success({content:"Successfully Updated Jeepney"}):C.a.success({content:"Jeepney Info is up to date"})})).catch((function(e){return console.log(e)}))};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(x.a,{type:"primary",className:"modal-button-edit",onClick:function(){r.setFieldsValue({id:e.info.id,barangayId:e.info.barangayId,plateNumber:e.info.plateNumber,jeepCapacity:e.info.jeepCapacity}),c(!0),S(!1)},children:[Object(s.jsxs)("span",{className:"desktop-view",children:[Object(s.jsx)(z.a,{})," Edit"]}),Object(s.jsx)("span",{className:"mobile-view",children:Object(s.jsx)(z.a,{})})]}),Object(s.jsx)(C.a,{title:"Update Jeepney Info",confirmLoading:u,visible:n,onOk:L,onCancel:_,afterClose:function(){h||e.afterClosing()},destroyOnClose:!0,footer:[Object(s.jsx)(x.a,{className:"modal-button",onClick:_,children:"Cancel"},"back"),Object(s.jsx)(x.a,{form:"myForm",className:"modal-button",htmlType:"submit",type:"primary",children:"Update"})],children:Object(s.jsxs)(I.a,{layout:"vertical",name:"basic",form:r,initialValues:{remember:!0},onFinish:L,onFinishFailed:function(e){C.a.error({content:"Failure to Update Jeepney Info"}),setTimeout((function(){c(!0),m(!1)}),2e3)},onValuesChange:function(e,t){console.log("Changed",t,e),S(!0)},id:"myForm",children:[Object(s.jsx)(I.a.Item,{label:"Barangay:",name:"barangayId",rules:[{required:!0,message:"Please input the Barangay's ID!"}],children:Object(s.jsx)(E.a,{placeholder:"Select Barangay",style:{width:"100%"},onChange:function(e){console.log("selected ".concat(e))},children:k.map((function(e,t){return Object(s.jsx)(F,{value:e.id,children:e.barangayName})}))})}),Object(s.jsx)(I.a.Item,{label:"Plate Number:",name:"plateNumber",rules:[{required:!0,message:"Please input the Plate Number!"}],children:Object(s.jsx)(d.a,{})}),Object(s.jsx)(I.a.Item,{label:"Jeep Capacity:",name:"jeepCapacity",rules:[{required:!0,message:"Please input Jeep Capacity!"}],children:Object(s.jsx)(d.a,{})})]})})]})},F=(a(432),a(430)),_=(a(415),a(423)),L=(a(426),a(157)),q=a(403);var M=function(e){var t=Object(j.useState)({}),a=Object(b.a)(t,2),n=(a[0],a[1],Object(j.useState)(!1)),c=Object(b.a)(n,2),r=(c[0],c[1],Object(j.useState)("Choose file")),u=Object(b.a)(r,2),d=(u[0],u[1]),m=Object(j.useState)(""),p=Object(b.a)(m,2),O=p[0],h=p[1],g=Object(j.useState)("none"),y=Object(b.a)(g,2),v=y[0],N=y[1],S=Object(j.useState)(""),w=Object(b.a)(S,2),E=(w[0],w[1],Object(j.useState)([])),P=Object(b.a)(E,2),k=(P[0],P[1],Object(j.useState)([])),z=Object(b.a)(k,2),J=(z[0],z[1],Object(j.useState)(!1)),M=Object(b.a)(J,2),T=(M[0],M[1]),B=Object(j.useState)(!1),R=Object(b.a)(B,2),U=R[0],A=R[1],D=I.a.useForm(),V=Object(b.a)(D,1)[0],H=Object(j.useState)(!1),K=Object(b.a)(H,2),W=K[0],G=K[1],Q=function(){T(!0),setTimeout((function(){A(!1),G(!1)}),500)},X={name:"file",action:"/api/v1/images/add_image",headers:{authorization:"authorization-text"},data:{imageOwnerId:e.info.id,imageReferenceId:3},onChange:function(e){"uploading"!==e.file.status&&console.log("uploading",e.file,e.fileList),"done"===e.file.status?L.b.success("".concat(e.file.name," file uploaded Successfully.")):"error"===e.file.status&&L.b.error("".concat(e.file.name," file upload Failed.")),N(e.file.status),d(e)}};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(x.a,{type:"primary",className:"modal-button-upload",onClick:function(){V.setFieldsValue({imageOwnerId:e.info.id,imageReferenceId:3}),h(),N("removed"),d("Choose file"),A(!0),console.log(e.info)},children:[Object(s.jsxs)("span",{className:"desktop-view",children:[Object(s.jsx)(q.a,{})," Upload"]}),Object(s.jsx)("span",{className:"mobile-view",children:Object(s.jsx)(q.a,{})})]}),Object(s.jsxs)(C.a,{title:"Jeepney Image Upload",confirmLoading:W,visible:U,onOk:function(t){"done"==v?f.a.post("/api/v1/images/save_image",{imageOwnerId:e.info.id,imageReferenceId:3,imagePath:O}).then((function(e){L.b.success("Successfully Saved"),setTimeout((function(){A(!1),G(!1)}),500),h("")})).catch((function(e){return console.log(e)})):L.b.error("Image Saving Error")},onCancel:Q,afterClose:function(){G(!0),T(!1)},destroyOnClose:!0,footer:[Object(s.jsx)(x.a,{className:"modal-button",type:"danger",onClick:Q,children:"Close"},"back")],children:[Object(s.jsxs)(_.b,{itemLayout:"vertical",children:[Object(s.jsxs)(_.b.Item,{children:[Object(s.jsx)("h4",{children:"Plate Number: "}),e.info.plateNumber]}),Object(s.jsxs)(_.b.Item,{children:[Object(s.jsx)("h4",{children:"Image Reference Name: "}),"Jeepney"]})]}),Object(s.jsx)(i.a,{children:Object(s.jsx)(o.b,{style:{width:"100%"},size:"large",children:Object(s.jsx)(F.a,Object(l.a)(Object(l.a)({},X),{},{onRemove:function(e){f.a.delete("/api/v1/images/delete_folder_image",{params:{fileName:e.response.imagePath,fileId:e.response.id}}).then((function(e){N("removed")})).catch((function(e){return console.log(e)})),h(),L.b.error("File removed Successfully.")},listType:"picture-card",showUploadList:{showPreviewIcon:!1},maxCount:5,children:Object(s.jsxs)(o.b,{children:[Object(s.jsx)(q.a,{}),"Upload"]})}))})})]})]})};t.default=function(){var e=Object(j.useState)([]),t=Object(b.a)(e,2),a=t[0],m=t[1],p=d.a.Search,h=Object(j.useState)(""),y=Object(b.a)(h,2),v=y[0],x=y[1],N=u.a.Title;Object(j.useEffect)((function(){f.a.get("/api/v1/jeepneys/").then((function(e){var t=e.data;t=t.map((function(e){return null===e.barangay?Object(l.a)(Object(l.a)({},e),{},{barangayName:"None Assigned"}):Object(l.a)(Object(l.a)({},e),{},{barangayName:e.barangay.barangayName})})),m(t)})).catch((function(e){return console.log(e)}))}),[]);var C=function(){console.log("Passed data from modal",v),f.a.get("/api/v1/jeepneys/").then((function(e){var t=e.data;t=t.map((function(e){return null===e.barangay?Object(l.a)(Object(l.a)({},e),{},{barangayName:"None Assigned"}):Object(l.a)(Object(l.a)({},e),{},{barangayName:e.barangay.barangayName})})),m(t)}))};return Object(s.jsxs)("div",{children:[Object(s.jsxs)(i.a,{justify:"space-between",children:[Object(s.jsx)(r.a,{span:4,children:Object(s.jsx)(o.b,{direction:"vertical",children:Object(s.jsx)(p,{placeholder:"Search Jeepney",onSearch:function(e){f.a.post("/api/v1/jeepneys/search_jeepneys",{value:e}).then((function(e){console.log(e);var t=e.data;t=t.map((function(e){return null===e.barangay?Object(l.a)(Object(l.a)({},e),{},{barangayName:"None Assigned"}):Object(l.a)(Object(l.a)({},e),{},{barangayName:e.barangay.barangayName})})),m(t),console.log("success")})),console.log(e)},allowClear:!0,enterButton:!0})})}),Object(s.jsx)(r.a,{span:4,children:Object(s.jsx)(k,{info:"",passedData:x,afterClosing:C})})]}),Object(s.jsx)(c.a,{children:Object(s.jsx)(N,{level:4,children:"List of Jeepneys"})}),Object(s.jsx)(i.a,{children:Object(s.jsxs)(n.a,{dataSource:a,scroll:{x:1e3,y:500},sticky:!0,children:[Object(s.jsx)(O.a,{title:"Barangay",dataIndex:"barangayName"},"barangayId"),Object(s.jsx)(g.a,{title:"Plate Number",dataIndex:"plateNumber"},"plateNumber"),Object(s.jsx)(g.a,{title:"Jeep Capacity",dataIndex:"jeepCapacity"},"jeepCapacity"),Object(s.jsx)(g.a,{title:"Actions",fixed:"right",width:"35vh",render:function(e){return Object(s.jsxs)(o.b,{children:[Object(s.jsx)(w,{info:e,passedData:x,afterClosing:C}),Object(s.jsx)(J,{info:e,passedData:x,afterClosing:C}),Object(s.jsx)(M,{info:e})]})}},"actions")]})})]})}}}]);
//# sourceMappingURL=8.d751e550.chunk.js.map