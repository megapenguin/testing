(this["webpackJsonpretrack-admin"]=this["webpackJsonpretrack-admin"]||[]).push([[8],{495:function(e,a,n){"use strict";n.r(a);n(408);var t=n(407),c=(n(403),n(404)),i=(n(123),n(57)),o=n(5),s=(n(124),n(44)),r=(n(400),n(402)),l=(n(122),n(56)),j=n(99),b=n(0),d=n(88),u=n.n(d),O=n(405),g=n.n(O),f=n(406),h=n.n(f),y=(n(121),n(75)),x=(n(398),n(399)),m=n(396);var p=function(e){var a=Object(b.useState)(!1),n=Object(j.a)(a,2),t=n[0],c=n[1],i=Object(b.useState)(""),s=Object(j.a)(i,2),r=(s[0],s[1],Object(b.useState)(!1)),l=Object(j.a)(r,2),d=l[0],O=l[1],g=Object(b.useState)(!1),f=Object(j.a)(g,2),h=f[0],p=f[1],v=Object(b.useState)([]),B=Object(j.a)(v,2),S=B[0],C=B[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(y.a,{type:"primary",onClick:function(){c(!0),console.log(e.info)},children:"View"}),Object(o.jsxs)(x.a,{title:"Barangay Information",visible:t,confirmLoading:d,onOk:function(){e.passedData(e.info),O(!0),p(!1),setTimeout((function(){c(!1),O(!1)}),2e3)},onCancel:function(){p(!0),c(!1)},afterClose:function(){h||e.afterClosing()},footer:[Object(o.jsx)(y.a,{loading:d,onClick:function(){return a=e.info.id,O(!0),p(!1),setTimeout((function(){c(!1),O(!1)}),2e3),void u.a.delete("/api/v1/barangays/delete_barangay",{params:{id:a}}).then((function(e){var n=Object(m.a)(S);n=n.filter((function(e){return e.id!==a})),C(n),console.log(n),x.a.success({content:"Barangay has been Removed"})})).catch((function(e){return console.log(e)}));var a},danger:!0,children:"Remove"})],children:[Object(o.jsxs)("p",{children:[Object(o.jsx)("h3",{children:"Bargangay ID:"}),e.info.id]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("h3",{children:"Barangay Name:"}),e.info.barangayName]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("h3",{children:"Location:"}),e.info.location]}),Object(o.jsxs)("p",{children:[Object(o.jsx)("h3",{children:"Barangay Description: "}),e.info.barangayDescription]})]})]})},v=(n(144),n(46));var B=function(e){var a=Object(b.useState)(!1),n=Object(j.a)(a,2),t=n[0],c=n[1],i=Object(b.useState)(""),s=Object(j.a)(i,2),r=(s[0],s[1],Object(b.useState)(!1)),d=Object(j.a)(r,2),O=d[0],g=d[1],f=Object(b.useState)(!1),h=Object(j.a)(f,2),p=h[0],B=h[1],S=Object(b.useState)([]),C=Object(j.a)(S,2),k=C[0],D=C[1],N=function(){B(!0),c(!1)},I=function(a){console.log(a),e.passedData(e.info),g(!0),B(!1),setTimeout((function(){c(!1),g(!1)}),2e3),u.a.post("/api/v1/barangays/add_barangay",a).then((function(e){var a=Object(m.a)(k);a=[].concat(Object(m.a)(a),[e.data]),console.log(a),D(a),x.a.success({content:"Successfully Added New Barangay"})})).catch((function(e){return console.log(e)}))};return Object(o.jsxs)("div",{children:[Object(o.jsx)(y.a,{type:"primary",onClick:function(){c(!0),console.log(e.info)},children:"Add Barangay"}),Object(o.jsx)(x.a,{title:"Add Barangay:",visible:t,confirmLoading:O,onOk:I,onCancel:N,afterClose:function(){p||e.afterClosing()},destroyOnClose:!0,footer:[Object(o.jsx)(y.a,{onClick:N,children:"Cancel"},"back"),Object(o.jsx)(y.a,{form:"myForm",htmlType:"submit",type:"primary",loading:O,onClick:I,children:"Add"},"submit")],children:Object(o.jsxs)(v.a,{name:"basic",initialValues:{remember:!0},onFinish:I,onFinishFailed:function(e){x.a.error({content:"Failure to Add New Barangay"}),setTimeout((function(){c(!0),g(!1)}),2e3),console.log("fail"),console.log("Failed:",e)},id:"myForm",children:[Object(o.jsx)(v.a.Item,{label:"Barangay Name",name:"barangayName",rules:[{required:!0,message:"Please input the Barangay's Name!"}],children:Object(o.jsx)(l.a,{})}),Object(o.jsx)(v.a.Item,{label:"Location",name:"location",rules:[{required:!0,message:"Please input Barangay's Location!"}],children:Object(o.jsx)(l.a,{})}),Object(o.jsx)(v.a.Item,{label:"Barangay Description",name:"barangayDescription",rules:[{required:!0,message:"Please input the Barangay's Description!"}],children:Object(o.jsx)(l.a,{})})]})})]})};a.default=function(){var e=Object(b.useState)([]),a=Object(j.a)(e,2),n=a[0],d=a[1],O=l.a.Search,f=Object(b.useState)(""),y=Object(j.a)(f,2),x=y[0],m=y[1];Object(b.useEffect)((function(){u.a.get("/api/v1/barangays/search_all_barangays").then((function(e){console.log(e);var a=e.data;d(a)})).catch((function(e){return console.log(e)}))}),[]);var v=function(){console.log("Passed data from modal",x),u.a.get("/api/v1/barangays/search_all_barangays").then((function(e){console.log(e);var a=e.data;d(a)}))};return Object(o.jsxs)("div",{children:[Object(o.jsxs)(i.a,{justify:"space-between",children:[Object(o.jsx)(s.a,{span:4,children:Object(o.jsx)(r.b,{direction:"vertical",children:Object(o.jsx)(O,{placeholder:"Search Barangay",onSearch:function(e){u.a.post("/api/v1/barangays/search_barangays",{value:e}).then((function(e){console.log(e);var a=e.data;d(a),console.log("success")})),console.log(e)},allowClear:!0,enterButton:!0})})}),Object(o.jsx)(s.a,{}),Object(o.jsx)(s.a,{span:4,children:Object(o.jsx)(B,{info:"",passedData:m,afterClosing:v})})]}),Object(o.jsx)(c.a,{orientation:"center",children:"List of Barangays"}),Object(o.jsx)(i.a,{children:Object(o.jsxs)(t.a,{dataSource:n,scroll:{x:1e3,y:500},sticky:!0,children:[Object(o.jsx)(g.a,{title:"Barangay Name",dataIndex:"barangayName"},"barangayName"),Object(o.jsx)(h.a,{title:"Location",dataIndex:"location"},"location"),Object(o.jsx)(h.a,{title:"Barangay Description",dataIndex:"barangayDescription"},"barangayDescription"),Object(o.jsx)(h.a,{title:"Actions",fixed:"right",render:function(e){return Object(o.jsx)(r.b,{children:Object(o.jsx)(p,{info:e,passedData:m,afterClosing:v})})}},"actions")]})})]})}}}]);
//# sourceMappingURL=8.61559dbe.chunk.js.map