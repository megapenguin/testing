{"version":3,"sources":["components/UsersTableList/UsersInfoModal.js","components/UsersTableList/UsersTableList.js"],"names":["UsersInfoModal","props","useState","isModalVisible","setIsModalVisible","confirmLoading","setConfirmLoading","ifCanceled","setIfCanceled","images","setImages","type","className","onClick","axios","post","imageOwnerId","info","id","imageReferenceId","then","res","data","catch","error","console","log","UnorderedListOutlined","title","visible","onOk","passedData","setTimeout","onCancel","afterClose","afterClosing","footer","loading","success","content","danger","firstName","lastName","email","map","image","index","md","span","height","width","src","imagePath","UsersTableList","users","setUsers","Search","dataFromModal","setDataFromModal","useEffect","get","modalClosed","justify","direction","placeholder","onSearch","value","_res","allowClear","enterButton","orientation","dataSource","scroll","x","y","sticky","dataIndex","fixed","render"],"mappings":"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","file":"static/js/9.0c3f62bf.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Modal, Button, Image, Card, Col, Row } from \"antd\";\r\nimport { UnorderedListOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\n\r\nfunction UsersInfoModal(props) {\r\n  const [isModalVisible, setIsModalVisible] = useState(false);\r\n  const [modalValue, setModalValue] = useState(\"\");\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n  const [ifCanceled, setIfCanceled] = useState(false);\r\n  const [drivers, setDrivers] = useState([]);\r\n  const [images, setImages] = useState([]);\r\n  const [imagePath, setImagePath] = useState([]);\r\n\r\n  const showModal = () => {\r\n    setIsModalVisible(true);\r\n    axios\r\n      .post(\"/api/v1/images/search_images\", {\r\n        imageOwnerId: props.info.id,\r\n        imageReferenceId: 4,\r\n      })\r\n      .then((res) => {\r\n        let data = res.data;\r\n        setImages(data);\r\n        //console.log(\"images\", images);\r\n        // let imagesCopy = [...images];\r\n        // imagesCopy = imagesCopy.find(\r\n        //   (imagesCopy) =>\r\n        //     imagesCopy.imageOwnerId === props.info.id &&\r\n        //     imagesCopy.imageReferenceId === 1\r\n        // );\r\n        //setImagePath(imagesCopy.imagePath);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleOk = () => {\r\n    props.passedData(props.info);\r\n\r\n    setConfirmLoading(true);\r\n    setIfCanceled(false);\r\n    setTimeout(() => {\r\n      setIsModalVisible(false);\r\n      setConfirmLoading(false);\r\n    }, 2000);\r\n  };\r\n\r\n  const handleDelete = (id) => {\r\n    setConfirmLoading(true);\r\n    setIfCanceled(false);\r\n    setTimeout(() => {\r\n      setIsModalVisible(false);\r\n      setConfirmLoading(false);\r\n    }, 2000);\r\n    Modal.success({\r\n      content: \"Still in development\",\r\n    });\r\n\r\n    //console.log(id);\r\n    // axios\r\n    //   .delete(\"/api/v1/users/delete_user\", {\r\n    //     params: {\r\n    //       id,\r\n    //     },\r\n    //   })\r\n    //   .then((res) => {\r\n\r\n    //     //console.log(driversCopy);\r\n\r\n    //     Modal.success({\r\n    //       content: \"User has been Removed\",\r\n    //     });\r\n    //   })\r\n    //   .catch((error) => console.log(error));\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setIfCanceled(true);\r\n    setIsModalVisible(false);\r\n  };\r\n  const handleClose = () => {\r\n    if (ifCanceled) {\r\n    } else {\r\n      props.afterClosing();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button type=\"primary\" className=\"modal-button\" onClick={showModal}>\r\n        <span className=\"desktop-view\">\r\n          <UnorderedListOutlined /> View\r\n        </span>\r\n        <span className=\"mobile-view\">\r\n          <UnorderedListOutlined />\r\n        </span>\r\n      </Button>\r\n      <Modal\r\n        title=\"User Information\"\r\n        visible={isModalVisible}\r\n        confirmLoading={confirmLoading}\r\n        onOk={handleOk}\r\n        onCancel={handleCancel}\r\n        afterClose={handleClose}\r\n        footer={[\r\n          <Button\r\n            className=\"modal-button\"\r\n            loading={confirmLoading}\r\n            onClick={() => handleDelete(props.info.id)}\r\n            danger\r\n          >\r\n            Remove\r\n          </Button>,\r\n        ]}\r\n      >\r\n        <p>\r\n          <h4>ID:</h4>\r\n          {props.info.id}\r\n        </p>\r\n        <p>\r\n          <h4>Name:</h4>\r\n          {props.info.firstName} {props.info.lastName}\r\n        </p>\r\n        <p>\r\n          <h4>Email Address: </h4>\r\n          {props.info.email}\r\n        </p>\r\n        <h4>User Images: </h4>\r\n        <Card className=\"shadow-sm\">\r\n          <Row>\r\n            {images.map((image, index) => (\r\n              <Col key={index} md={{ span: 6 }}>\r\n                <br></br>\r\n                <Image\r\n                  height={100}\r\n                  width={100}\r\n                  src={`/api/v1/images/${\r\n                    image.imagePath ? image.imagePath : \"logo.png\"\r\n                  }`}\r\n                />\r\n                <Row>\r\n                  <br></br>\r\n                  {/* <Button onClick={() => handleDeleteImage(image.id)} danger>\r\n                    Delete\r\n                  </Button> */}\r\n                </Row>\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Card>\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsersInfoModal;\r\n","import React, { Suspense, useEffect, useState } from \"react\";\r\nimport { Table, Tag, Space, Input, Row, Col, Button, Divider } from \"antd\";\r\nimport axios from \"axios\";\r\nimport Column from \"antd/lib/table/Column\";\r\nimport ColumnGroup from \"antd/lib/table/ColumnGroup\";\r\nimport UsersInfoModal from \"./UsersInfoModal\";\r\n// import usersInfoModal from \"./usersInfoModal\";\r\n// import AddBarangayModal from \"./AddBarangayModal\";\r\n// import EditBarangayModal from \"./EditBarangayModal\";\r\n// import AddBarangayImageModal from \"./AddBarangayImageModal\";\r\n\r\nfunction UsersTableList() {\r\n  const [users, setUsers] = useState([]);\r\n  const { Search } = Input;\r\n  const [dataFromModal, setDataFromModal] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/api/v1/users/\")\r\n      .then((res) => {\r\n        // console.log(res);\r\n\r\n        let data = res.data;\r\n        setUsers(data);\r\n      })\r\n      .catch((error) => console.log(error));\r\n  }, []);\r\n\r\n  const onSearch = (value) => {\r\n    axios.post(\"/api/v1/users/search_user\", { value: value }).then((_res) => {\r\n      console.log(_res);\r\n      let data = _res.data;\r\n      setUsers(data);\r\n      console.log(\"success\");\r\n    });\r\n\r\n    //console.log(value);\r\n  };\r\n\r\n  const modalClosed = () => {\r\n    console.log(\"Passed data from modal\", dataFromModal);\r\n    axios.get(\"/api/v1/users/\").then((res) => {\r\n      //console.log(res);\r\n      let data = res.data;\r\n      setUsers(data);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Row justify=\"space-between\">\r\n        <Col span={4}>\r\n          <Space direction=\"vertical\">\r\n            <Search\r\n              placeholder=\"Search Barangay\"\r\n              onSearch={onSearch}\r\n              allowClear={true}\r\n              enterButton\r\n            />\r\n          </Space>\r\n        </Col>\r\n      </Row>\r\n      <Divider orientation=\"center\">List of Users</Divider>\r\n      <Row>\r\n        <Table dataSource={users} scroll={{ x: 1000, y: 500 }} sticky>\r\n          {/* <ColumnGroup title=\"Id\" dataIndex=\"id\" key=\"id\"></ColumnGroup> */}\r\n          {/* <ColumnGroup title=\"Name\" key=\"name\"> */}\r\n          <Column title=\"Provider\" dataIndex=\"provider\" key=\"provider\"></Column>\r\n          <ColumnGroup\r\n            title=\"Email\"\r\n            dataIndex=\"email\"\r\n            key=\"email\"\r\n          ></ColumnGroup>\r\n\r\n          <Column\r\n            title=\"Firstname\"\r\n            dataIndex=\"firstName\"\r\n            key=\"firstName\"\r\n          ></Column>\r\n          <Column title=\"Lastname\" dataIndex=\"lastName\" key=\"lastName\"></Column>\r\n          {/* </ColumnGroup> */}\r\n\r\n          <ColumnGroup\r\n            title=\"Actions\"\r\n            key=\"actions\"\r\n            fixed=\"right\"\r\n            width=\"35vh\"\r\n            render={(value) => (\r\n              <Space>\r\n                <UsersInfoModal\r\n                  info={value}\r\n                  passedData={setDataFromModal}\r\n                  afterClosing={modalClosed}\r\n                />\r\n              </Space>\r\n            )}\r\n          ></ColumnGroup>\r\n        </Table>\r\n      </Row>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UsersTableList;\r\n"],"sourceRoot":""}